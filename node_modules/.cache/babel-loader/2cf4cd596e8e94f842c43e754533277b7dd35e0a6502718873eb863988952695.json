{"ast":null,"code":"import _regeneratorRuntime from\"/Users/shubhamanand/qtify/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/shubhamanand/qtify/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/shubhamanand/qtify/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Tabs,Tab,Box}from\"@material-ui/core\";import axios from\"axios\";import\"react-multi-carousel/lib/styles.css\";import Carousel from\"react-multi-carousel\";import\"./filter.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TabPanel=function TabPanel(_ref){var children=_ref.children,value=_ref.value,index=_ref.index;return value===index?/*#__PURE__*/_jsx(Box,{sx:{p:3},children:children}):null;};var Filter=function Filter(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),genre=_useState6[0],setGenre=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];var handleChange=function handleChange(event,newValue){setValue(newValue);};useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var responseSongs,songsData,responseGenres,genresData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://qtify-backend-labs.crio.do/songs\");case 3:responseSongs=_context.sent;songsData=responseSongs.data;setData(songsData);_context.next=8;return axios.get(\"https://qtify-backend-labs.crio.do/genres\");case 8:responseGenres=_context.sent;genresData=responseGenres.data;setGenre(genresData);setIsLoading(false);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching data:\",_context.t0);case 17:case\"end\":return _context.stop();}},_callee,null,[[0,14]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}// Filter songs based on genre\nvar filteredData=function filteredData(genreKey){return data.filter(function(song){return song.genre.key===genreKey;});};var tabItems=[{label:\"Jazz\",genreKey:\"jazz\"},{label:\"Rock\",genreKey:\"rock\"},{label:\"Pop\",genreKey:\"pop\"},{label:\"Blues\",genreKey:\"blues\"}];var responsive={desktop:{breakpoint:{max:3000,min:1024},items:7},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}};return/*#__PURE__*/_jsxs(Box,{sx:{width:\"100%\"},children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"Songs\"}),/*#__PURE__*/_jsx(Tabs,{value:value,onChange:handleChange,sx:{\"& button\":{color:\"white\"},\"& button.Mui-selected\":{color:\"white\"}},TabIndicatorProps:{style:{backgroundColor:\"green\"}},children:tabItems.map(function(item,index){return/*#__PURE__*/_jsx(Tab,{label:item.label},index);})}),tabItems.map(function(item,index){return/*#__PURE__*/_jsx(TabPanel,{value:value,index:index,children:/*#__PURE__*/_jsx(Carousel,{responsive:responsive,showDots:false,partialVisible:true,infinite:true,itemClass:\"carousel-item\",children:filteredData(item.genreKey).map(function(song){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"img\",{src:song.image,alt:\"song\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"card-follows\",children:[song.likes,\" likes\"]})}),/*#__PURE__*/_jsx(\"p\",{className:\"card-title\",children:song.title})]},song.id);})})},index);}),/*#__PURE__*/_jsx(\"hr\",{})]});};export default Filter;","map":{"version":3,"names":["React","useState","useEffect","Tabs","Tab","Box","axios","Carousel","jsx","_jsx","jsxs","_jsxs","TabPanel","_ref","children","value","index","sx","p","Filter","_useState","_useState2","_slicedToArray","setValue","_useState3","_useState4","data","setData","_useState5","_useState6","genre","setGenre","_useState7","_useState8","isLoading","setIsLoading","handleChange","event","newValue","fetchData","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","responseSongs","songsData","responseGenres","genresData","wrap","_callee$","_context","prev","next","get","sent","t0","console","error","stop","apply","arguments","filteredData","genreKey","filter","song","key","tabItems","label","responsive","desktop","breakpoint","max","min","items","tablet","mobile","width","className","onChange","color","TabIndicatorProps","style","backgroundColor","map","item","showDots","partialVisible","infinite","itemClass","src","image","alt","likes","title","id"],"sources":["/Users/shubhamanand/qtify/src/components/filters/filter.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Tabs, Tab, Box } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport \"react-multi-carousel/lib/styles.css\";\nimport Carousel from \"react-multi-carousel\";\nimport \"./filter.css\";\n\nconst TabPanel = ({ children, value, index }) => {\n  return value === index ? <Box sx={{ p: 3 }}>{children}</Box> : null;\n};\n\nconst Filter = () => {\n  const [value, setValue] = useState(0);\n  const [data, setData] = useState([]);\n  const [genre, setGenre] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const responseSongs = await axios.get(\"https://qtify-backend-labs.crio.do/songs\");\n        const songsData = responseSongs.data;\n        setData(songsData);\n\n        const responseGenres = await axios.get(\"https://qtify-backend-labs.crio.do/genres\");\n        const genresData = responseGenres.data;\n        setGenre(genresData);\n\n        setIsLoading(false);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  // Filter songs based on genre\n  const filteredData = (genreKey) =>\n    data.filter((song) => song.genre.key === genreKey);\n\n  const tabItems = [\n    \n    { label: \"Jazz\", genreKey: \"jazz\" },\n    { label: \"Rock\", genreKey: \"rock\" },\n    { label: \"Pop\", genreKey: \"pop\" },\n    { label: \"Blues\", genreKey: \"blues\" },\n  ];\n\n  const responsive = {\n    desktop: {\n      breakpoint: { max: 3000, min: 1024 },\n      items: 7,\n    },\n    tablet: {\n      breakpoint: { max: 1024, min: 464 },\n      items: 2,\n    },\n    mobile: {\n      breakpoint: { max: 464, min: 0 },\n      items: 1,\n    },\n  };\n\n  return (\n    <Box sx={{ width: \"100%\" }}>\n      <hr />\n      <h2 className=\"title\">Songs</h2>\n      <Tabs\n        value={value}\n        onChange={handleChange}\n        sx={{\n          \"& button\": { color: \"white\" },\n          \"& button.Mui-selected\": { color: \"white\" },\n        }}\n        TabIndicatorProps={{\n          style: {\n            backgroundColor: \"green\",\n          },\n        }}\n      >\n        {tabItems.map((item, index) => (\n          <Tab key={index} label={item.label} />\n        ))}\n      </Tabs>\n\n      {tabItems.map((item, index) => (\n        <TabPanel key={index} value={value} index={index}>\n          <Carousel\n            responsive={responsive}\n            showDots={false}\n            partialVisible={true}\n            infinite={true}\n            itemClass=\"carousel-item\"\n          >\n            {filteredData(item.genreKey).map((song) => (\n              <div key={song.id} className=\"card\">\n                <img src={song.image} alt=\"song\" />\n                <div>\n                  <p className=\"card-follows\">{song.likes} likes</p>\n                </div>\n                <p className=\"card-title\">{song.title}</p>\n              </div>\n            ))}\n          </Carousel>\n        </TabPanel>\n      ))}\n\n      <hr />\n    </Box>\n  );\n};\n\nexport default Filter;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}